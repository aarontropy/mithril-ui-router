/*! 2015-05-13 */

!function(a){"use strict";function b(){var a="hash"===mx.route.mode?"onhashchange":"onpopstate";window[a]=function(){var a="hash"===mx.route.mode?window.location[mx.route.mode].substr(1):window.location[mx.route.mode];if(a!==h){var b=c(a);mx.route.go(b.state,b.parameters)}},window[a]()}function c(a){if(!a)return{state:e,parameters:{}};for(var b in j)if(j.hasOwnProperty(b)){var c=b.split("."),f="",g="";c.forEach(function(a){f=f?f+"."+a:a;var b=j[f].url;g=b?g+b:g});var h=d(g,a);if(h)return{state:f,parameters:h}}return{state:e,parameters:{}}}function d(a,b){var c=a.split("/"),d=b.split("/"),e={};if(c.length!==d.length)return!1;for(var f=0;f<c.length;f++)if(c[f]!==d[f]){if(":"!==c[f][0])return!1;e[c[f].substr(1)]=d[f]}return e}window.mx=window.mx||{};var e,f,g,h,i,j,k={string:function(a){if("string"!=typeof a)throw new TypeError("a string is expected, but "+a+" ["+typeof a+"] given");return a},plainObject:function(a){if("object"!=typeof a)throw new TypeError("an object is expected, but "+a+"  ["+typeof a+"] given");return a}};mx.route=function(a,c,d){i=k.plainObject(a),e=k.string(c),j=k.plainObject(d),b()},mx.route.go=function(b,c){if(k.string(b),f){var d=j[f].onExit;d&&d()}var e=b.split("."),i="",m=document,n="";g=c,e.forEach(function(c){i=i?i+"."+c:c;var d=j[i],e=l(d.module),g=m.querySelector(d.place),h=d.places,k=d.url,o=d.onEnter;if(m=g||m,n=k?n+k:n,!f||-1===f.indexOf(i)||i===b){if(g)mx.route.$install(g,e),i!==b&&a.redraw(!0);else if(h){for(var p in h)h.hasOwnProperty(p)&&(e=l(h[p]),g=m.querySelector(p),mx.route.$install(g,e));i!==b&&a.redraw(!0)}o&&o()}}),f=b;for(var o in c)c.hasOwnProperty(o)&&(n=n.replace(":"+o,c[o]));h=window.location[mx.route.mode]=n},mx.route.current=function(){return f},mx.route.param=function(a){return k.string(a),g=g||{},g[a]},mx.route.mode="hash",mx.route.$install=function(b,c){a.module(b,c)};var l=function(a){k.string(a);var b=i,c=a.split(".");return c.forEach(function(a){b=b[a]}),b}}(m);
//# sourceMappingURL=mithril-ui-router.js.map